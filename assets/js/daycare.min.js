!function(){"use strict";function e(){document.querySelectorAll('a[href^="tel:"], .phone-btn, .phone-highlight').forEach(e=>{e.addEventListener("click",function(){"undefined"!=typeof gtag&&gtag("event","click",{event_category:"Contact",event_label:"Phone Call",value:1}),console.log("Phone number clicked:",this.href||this.textContent),this.style.transform="scale(0.95)",setTimeout(()=>{this.style.transform=""},150)})})}function n(){const e=document.querySelector(".contact-form form, #contact-form");function n(e,n){t(e),e.classList.add("error");const o=document.createElement("div");o.className="field-error",o.textContent=n,e.parentNode.appendChild(o)}function t(e){e.classList.remove("error");const n=e.parentNode.querySelector(".field-error");n&&n.remove()}e&&e.addEventListener("submit",function(o){o.preventDefault();const a=new FormData(this);if(!function(o){let a=!0;if(["name","email","message"].forEach(i=>{const s=e.querySelector(`[name="${i}"]`),r=o[i]?.trim();r?t(s):(n(s,`${i.charAt(0).toUpperCase()+i.slice(1)} is required`),a=!1)}),o.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)){n(e.querySelector('[name="email"]'),"Please enter a valid email address"),a=!1}return a}(Object.fromEntries(a)))return!1;const i=this.querySelector('button[type="submit"], input[type="submit"]'),s=i.textContent;i.disabled=!0,i.textContent="Sending...",i.classList.add("loading"),"undefined"!=typeof gtag&&gtag("event","submit",{event_category:"Contact",event_label:"Inquiry Form",value:1}),setTimeout(()=>{!function(){const n=document.createElement("div");n.className="form-success",n.innerHTML='\n                <div class="success-content">\n                    <h3>âœ… Message Sent Successfully!</h3>\n                    <p>Thank you for your inquiry. We\'ll get back to you within 24 hours.</p>\n                </div>\n            ',e.parentNode.insertBefore(n,e.nextSibling),setTimeout(()=>{n.remove()},5e3),window.innerWidth<768&&requestAnimationFrame(()=>{n.scrollIntoView({behavior:"smooth",block:"center"})})}(),e.reset(),i.disabled=!1,i.textContent=s,i.classList.remove("loading")},2e3)})}function t(){const e=document.querySelectorAll(".service-card");e.forEach(n=>{window.innerWidth>768&&(n.addEventListener("mouseenter",function(){this.style.transform="translateY(-8px) scale(1.02)"}),n.addEventListener("mouseleave",function(){this.style.transform=""})),n.addEventListener("click",function(){const n=this.classList.contains("expanded");e.forEach(e=>e.classList.remove("expanded")),n||(this.classList.add("expanded"),window.innerWidth<768&&requestAnimationFrame(()=>{this.scrollIntoView({behavior:"smooth",block:"center"})}))})});const n=document.createElement("style");n.textContent="\n            .service-card.expanded {\n                transform: scale(1.05);\n                z-index: 10;\n                box-shadow: 0 15px 35px rgba(0,0,0,0.15);\n            }\n            @media (max-width: 767px) {\n                .service-card.expanded {\n                    transform: scale(1.02);\n                    margin: var(--spacing-lg) 0;\n                }\n            }\n        ",document.head.appendChild(n)}function o(){if(window.innerWidth>768)return;const e=document.querySelector(".testimonials-grid"),n=document.querySelectorAll(".testimonial-card");if(!e||0===n.length)return;let t=0;const o=n.length;e.style.cssText="\n            display: flex;\n            overflow-x: auto;\n            scroll-snap-type: x mandatory;\n            gap: var(--spacing-lg);\n            padding-bottom: var(--spacing-md);\n            -webkit-overflow-scrolling: touch;\n        ",n.forEach(e=>{e.style.cssText="\n                flex: 0 0 85%;\n                scroll-snap-align: center;\n            "});const a=document.createElement("div");a.className="testimonial-dots",a.style.cssText="\n            display: flex;\n            justify-content: center;\n            gap: var(--spacing-sm);\n            margin-top: var(--spacing-lg);\n        ";for(let e=0;e<o;e++){const n=document.createElement("button");n.className="testimonial-dot",n.style.cssText=`\n                width: 12px;\n                height: 12px;\n                border-radius: 50%;\n                border: none;\n                background: ${0===e?"var(--british-red)":"var(--medium-gray)"};\n                cursor: pointer;\n                transition: background 0.3s ease;\n            `,n.addEventListener("click",()=>{l(e)}),a.appendChild(n)}e.parentNode.appendChild(a);let s,r=null;function c(){return null===r&&(r=n[0].offsetWidth+24),r}function l(n){const t=c();e.scrollTo({left:n*t,behavior:"smooth"})}e.addEventListener("scroll",()=>{clearTimeout(s),s=setTimeout(()=>{const n=e.scrollLeft,o=c(),i=Math.round(n/o);var s;i!==t&&(s=i,a.querySelectorAll(".testimonial-dot").forEach((e,n)=>{e.style.background=n===s?"var(--british-red)":"var(--medium-gray)"}),t=i)},50)},{passive:!0}),window.addEventListener("resize",i(()=>{r=null},250))}function a(){if(window.innerWidth>768)return;const e=document.createElement("div");e.className="floating-actions",e.innerHTML='\n            <button class="fab-toggle" aria-label="Quick Actions">\n                <span class="fab-icon">ğŸ“</span>\n            </button>\n            <div class="fab-menu">\n                <a href="tel:613-XXX-XXXX" class="fab-action phone">\n                    <span class="fab-icon">ğŸ“</span>\n                    <span class="fab-label">Call Now</span>\n                </a>\n                <a href="mailto:thebritishnanny@gmail.com" class="fab-action email">\n                    <span class="fab-icon">âœ‰ï¸</span>\n                    <span class="fab-label">Email Us</span>\n                </a>\n                <a href="potty-training-book.html" class="fab-action book">\n                    <span class="fab-icon">ğŸ“š</span>\n                    <span class="fab-label">Get Book</span>\n                </a>\n            </div>\n        ';const n=document.createElement("style");n.textContent="\n            .floating-actions {\n                position: fixed;\n                bottom: 20px;\n                right: 20px;\n                z-index: 1000;\n            }\n            .fab-toggle {\n                width: 56px;\n                height: 56px;\n                border-radius: 50%;\n                background: var(--british-red);\n                border: none;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                cursor: pointer;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: 1.5rem;\n                transition: all 0.3s ease;\n            }\n            .fab-toggle:hover {\n                transform: scale(1.1);\n                box-shadow: 0 6px 16px rgba(0,0,0,0.2);\n            }\n            .fab-menu {\n                position: absolute;\n                bottom: 70px;\n                right: 0;\n                display: flex;\n                flex-direction: column;\n                gap: 12px;\n                opacity: 0;\n                visibility: hidden;\n                transform: translateY(20px);\n                transition: all 0.3s ease;\n            }\n            .floating-actions.active .fab-menu {\n                opacity: 1;\n                visibility: visible;\n                transform: translateY(0);\n            }\n            .fab-action {\n                display: flex;\n                align-items: center;\n                gap: 8px;\n                background: var(--white);\n                color: var(--british-navy);\n                padding: 12px 16px;\n                border-radius: 28px;\n                text-decoration: none;\n                box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n                font-weight: 600;\n                font-size: 0.9rem;\n                white-space: nowrap;\n                transition: all 0.3s ease;\n            }\n            .fab-action:hover {\n                background: var(--british-navy);\n                color: var(--white);\n                transform: translateX(-5px);\n            }\n            .fab-icon {\n                font-size: 1.2rem;\n            }\n            @media (min-width: 768px) {\n                .floating-actions {\n                    display: none;\n                }\n            }\n        ",document.head.appendChild(n),document.body.appendChild(e);const t=e.querySelector(".fab-toggle");let o=!1;t.addEventListener("click",()=>{o=!o,e.classList.toggle("active",o),t.style.transform=o?"rotate(45deg)":""}),document.addEventListener("click",n=>{!e.contains(n.target)&&o&&(o=!1,e.classList.remove("active"),t.style.transform="")}),e.querySelectorAll(".fab-action").forEach(e=>{e.addEventListener("click",function(){const e=this.classList.contains("phone")?"Phone":this.classList.contains("email")?"Email":"Book";"undefined"!=typeof gtag&&gtag("event","click",{event_category:"FAB",event_label:e,value:1})})})}function i(e,n){let t;return function(...o){clearTimeout(t),t=setTimeout(()=>{clearTimeout(t),e(...o)},n)}}function s(){e(),n(),t(),document.querySelectorAll(".book-feature-hero, .book-connection").forEach(e=>{const n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.transform="scale(1.02)",e.target.style.boxShadow="0 10px 25px rgba(207, 20, 43, 0.2)",setTimeout(()=>{e.target.style.transform="",e.target.style.boxShadow=""},2e3),n.unobserve(e.target))})},{threshold:.5});n.observe(e)}),document.querySelectorAll('a[href="potty-training-book.html"], .book-link').forEach(e=>{e.addEventListener("click",function(){"undefined"!=typeof gtag&&gtag("event","click",{event_category:"Cross-Navigation",event_label:"Daycare to Book",value:1}),console.log("Book link clicked from daycare page")})}),o(),a(),window.innerWidth>768||setTimeout(()=>{const e=document.createElement("div");e.className="emergency-contact",e.innerHTML='\n                <a href="tel:613-XXX-XXXX">ğŸ“ Call Now for Immediate Enrollment!</a>\n            ',document.body.appendChild(e),setTimeout(()=>{e.style.transform="translateY(100%)",setTimeout(()=>e.remove(),300)},1e4)},3e4),function(){const e=document.querySelectorAll(".service-card, .trust-item, .testimonial-card"),n=new IntersectionObserver(e=>{e.forEach((e,n)=>{e.isIntersecting&&setTimeout(()=>{e.target.style.opacity="1",e.target.style.transform="translateY(0)"},100*n)})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",n.observe(e)})}(),"performance"in window&&window.addEventListener("load",()=>{const e=performance.getEntriesByType("navigation")[0];e&&console.log("Daycare page load time:",e.loadEventEnd-e.loadEventStart,"ms")})}function r(){const e=document.querySelector(".carousel-track"),n=document.querySelectorAll(".carousel-item"),t=document.querySelector(".carousel-prev"),o=document.querySelector(".carousel-next");if(!e||!n.length)return;let a=0;const i=window.innerWidth>768?2:1,s=Math.max(0,n.length-i);function r(){const n=-a*(100/i);e.style.transform=`translateX(${n}%)`,t.disabled=0===a,o.disabled=a>=s}function c(){a<s&&(a++,r())}function l(){a>0&&(a--,r())}t&&t.addEventListener("click",l),o&&o.addEventListener("click",c);let d,u=0,m=0;e.addEventListener("touchstart",e=>{u=e.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",e=>{m=e.changedTouches[0].screenX,function(){const e=50,n=u-m;Math.abs(n)>e&&(n>0?c():l())}()},{passive:!0}),document.addEventListener("keydown",e=>{"ArrowLeft"===e.key&&l(),"ArrowRight"===e.key&&c()});function f(){h(),d=setInterval(()=>{var e;a>=s?(e=0,a=Math.max(0,Math.min(e,s)),r()):c()},5e3)}function h(){d&&clearInterval(d)}let p;e.addEventListener("mouseenter",h),e.addEventListener("mouseleave",f),e.addEventListener("touchstart",h,{passive:!0}),window.addEventListener("resize",()=>{clearTimeout(p),p=setTimeout(()=>{(window.innerWidth>768?2:1)!==i&&location.reload()},250)}),r(),f()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{s(),r()}):(s(),r()),"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname||(window.DaycarePageJS={initPhoneTracking:e,initContactForm:n,initServiceCards:t,initMobileQuickActions:a,throttle:function(e,n){let t;return function(){const o=arguments,a=this;t||(e.apply(a,o),t=!0,setTimeout(()=>t=!1,n))}},debounce:i})}();