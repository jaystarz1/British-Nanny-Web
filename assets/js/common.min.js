!function(){"use strict";function e(){const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".mobile-menu"),n=document.querySelector(".mobile-menu-overlay"),o=document.querySelector(".mobile-menu-close"),i=document.body;if(!e||!t||!n)return;if(0===e.children.length)for(let t=0;t<3;t++){const t=document.createElement("span");e.appendChild(t)}function s(){e.classList.remove("active"),t.classList.remove("active"),n.classList.remove("active"),setTimeout(()=>{n.classList.contains("active")||(n.style.display="none")},300),i.style.overflow=""}e.addEventListener("click",function(){t.classList.contains("active")?s():(e.classList.add("active"),n.style.display="block",requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.classList.add("active"),t.classList.add("active")})}),i.style.overflow="hidden",function(){const e=window.location.hash;t.querySelectorAll("nav a").forEach(t=>{t.classList.remove("active");const n=t.getAttribute("href");(n===e||""===e&&"#hero"===n||n.includes("index.html")&&window.location.pathname.includes("index.html")||n.includes("potty-training-book.html")&&window.location.pathname.includes("potty-training-book.html"))&&t.classList.add("active")})}())}),o&&o.addEventListener("click",s),n.addEventListener("click",s);let a;t.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{setTimeout(s,100)})}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("active")&&s()}),window.addEventListener("resize",()=>{window.innerWidth>768&&t.classList.contains("active")&&s()}),window.addEventListener("scroll",()=>{a&&window.cancelAnimationFrame(a),a=window.requestAnimationFrame(()=>{t.classList.contains("active")&&function(){const e=t.querySelectorAll('nav a[href^="#"]');let n=null;window.MeasurementCache&&(n=window.MeasurementCache.getCurrentSection());e.forEach(e=>{e.classList.remove("active"),n&&e.getAttribute("href")==="#"+n.id&&e.classList.add("active")})}()})},{passive:!0})}function t(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if(!t||"#"===t)return;e.preventDefault();const n=document.querySelector(t);if(n){const e=window.MeasurementCache?window.MeasurementCache.global.headerHeight:document.querySelector(".site-header")?.offsetHeight||0,t=20;let o;if(window.MeasurementCache){o=window.MeasurementCache.getElement(n).top-e-t}else o=n.offsetTop-e-t;window.scrollTo({top:o,behavior:"smooth"})}})})}function n(){const e=document.querySelectorAll(".faq-item");e.forEach(t=>{const n=t.querySelector(".faq-question"),o=t.querySelector(".faq-answer");if(!n||!o)return;n.addEventListener("click",()=>{const n=t.classList.contains("active");e.forEach(e=>{e!==t&&e.classList.remove("active")}),t.classList.toggle("active",!n)}),n.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n.click())}),n.setAttribute("tabindex","0"),n.setAttribute("aria-expanded","false"),n.setAttribute("role","button");new MutationObserver(()=>{const e=t.classList.contains("active");n.setAttribute("aria-expanded",e.toString())}).observe(t,{attributes:!0,attributeFilter:["class"]})})}function o(){const e=document.querySelectorAll(".card, .service-card, .testimonial-card, .content-card, .review-card"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",t.observe(e)})}function i(){const e=document.querySelectorAll("img[data-src]"),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.removeAttribute("data-src"),t.unobserve(n)}})});if(e.forEach(e=>t.observe(e)),window.innerWidth<768){["assets/css/style.css","assets/css/daycare.css","assets/css/book.css"].forEach(e=>{const t=document.createElement("link");t.rel="preload",t.as="style",t.href=e,document.head.appendChild(t)})}}function s(e,t){let n;return function(...o){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...o)},t)}}function a(){e(),t(),n(),function(){function e(e){const t=e.target,n=t.value.trim();return t.classList.remove("valid","invalid"),t.hasAttribute("required")&&!n||"email"===t.type&&n&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||"tel"===t.type&&n&&!/^[\+]?[0-9\s\-\(\)]{10,}$/.test(n)?(t.classList.add("invalid"),!1):(n&&t.classList.add("valid"),!0)}function t(e){e.target.classList.remove("invalid")}document.querySelectorAll("form").forEach(n=>{n.addEventListener("submit",function(){const e=n.querySelector('button[type="submit"], input[type="submit"]');e&&(e.disabled=!0,e.textContent="Sending...",e.classList.add("loading"))}),n.querySelectorAll("input, textarea, select").forEach(n=>{n.addEventListener("blur",e),n.addEventListener("input",t)})})}(),document.querySelectorAll(".btn, .card, .service-card, .testimonial-card, .faq-question").forEach(e=>{e.addEventListener("touchstart",function(){this.style.transform="scale(0.98)"},{passive:!0}),e.addEventListener("touchend",function(){this.style.transform=""},{passive:!0}),e.addEventListener("touchcancel",function(){this.style.transform=""},{passive:!0})}),window.innerWidth<768&&setTimeout(()=>{requestAnimationFrame(()=>{const e=document.querySelectorAll("a, button"),t=[];e.forEach(e=>{e.getBoundingClientRect().height<44&&t.push(e)}),t.length>0&&requestAnimationFrame(()=>{t.forEach(e=>{e.style.minHeight="44px",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center"})})})},100),function(){const e=document.createElement("a");e.href="#main-content",e.className="skip-to-content",e.textContent="Skip to main content",document.body.insertBefore(e,document.body.firstChild);const t=document.querySelector("main")||document.querySelector(".hero, .hero-book");t&&!t.id&&(t.id="main-content"),document.addEventListener("keydown",e=>{"Tab"===e.key&&document.body.classList.add("keyboard-navigation")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("keyboard-navigation")});const n=document.createElement("div");n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.className="sr-only",n.id="announcer",document.body.appendChild(n)}(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{o(),i()}):(o(),i()),window.addEventListener("orientationchange",s(()=>{const e=document.querySelector(".mobile-menu");e&&e.classList.contains("active")&&(e.classList.remove("active"),document.querySelector(".mobile-menu-overlay").classList.remove("active"),document.querySelector(".mobile-menu-toggle").classList.remove("active"),document.body.style.overflow="")},250)),"performance"in window&&window.addEventListener("load",()=>{const e=performance.getEntriesByType("navigation")[0];e&&console.log("Page load time:",e.loadEventEnd-e.loadEventStart,"ms")})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a(),"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname||(window.BritishNannyCommon={initMobileMenu:e,initSmoothScrolling:t,initFAQAccordion:n,debounce:s,throttle:function(e,t){let n;return function(){const o=arguments,i=this;n||(e.apply(i,o),n=!0,setTimeout(()=>n=!1,t))}}})}();